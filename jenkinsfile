pipeline {
    agent any
    stages {
        stage("TouchReports") {
            steps {
                sh 'cd /var/lib/jenkins/workspace/junitreportgeneration/target/surefire-reports/'
                sh 'touch *.xml'
				
            }
        }
		stage("Test") {
			steps {
				sh  'mvn install surefire-report:report'
			}
		}
		
        stage("build") {
            steps {
                 sh  'mvn clean deploy -Dmaven.test.skip=true'
            }
        }
    }
    post {
        always {
            archiveArtifacts "target/**/*"
            junit '**/surefire-reports/*.xml' 
            
             
         }  
        }
    }
